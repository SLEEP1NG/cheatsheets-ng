webpackJsonp([71786255385810],{970:function(e,t){e.exports={data:{markdownRemark:{htmlAst:{type:"root",children:[{type:"element",tagName:"h2",properties:{},children:[{type:"text",value:"Generate a plugin"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Generate a Rails Engine plugin:"}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"rails plugin new myplugin --skip-bundle --full\n"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{},children:[{type:"text",value:"Initializers"}]},{type:"text",value:"\n"},{type:"element",tagName:"ul",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"http://edgeapi.rubyonrails.org/classes/Rails/Railtie.html"},children:[{type:"text",value:"Rails::Railtie"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"http://www.engineyard.com/blog/2010/extending-rails-3-with-railties/"},children:[{type:"text",value:"EngineYard blog\npost"}]}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Subclass Railtie and provide an "},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"initializer"}]},{type:"text",value:" method."}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{},children:[{type:"text",value:'module NewPlugin\n  class Railtie < Rails::Railtie\n    initializer "newplugin.initialize" do |app|\n \n      # subscribe to all rails notifications: controllers, AR, etc.\n      ActiveSupport::Notifications.subscribe do |*args|\n        event = ActiveSupport::Notifications::Event.new(*args)\n        puts "Got notification: #{event.inspect}"\n      end\n \n    end\n  end\nend\n \n'}]}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{},children:[{type:"text",value:"Custom routes"}]},{type:"text",value:"\n"},{type:"element",tagName:"ul",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"http://api.rubyonrails.org/classes/ActionDispatch/Routing/Mapper.html"},children:[{type:"text",value:"ActionDispatch::Routing::Mapper"}]}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"To create custom "},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"routes.rb"}]},{type:"text",value:" keywords:"}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"# # routes.rb:\n# myplugin_for x\n#\nclass ActionDispatch::Routing\n  class Mapper\n    def myplugin_for(*x)\n    end\n  end\nend\n"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Example with a block:"}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"# authenticated do\n#   resources :users\n# end\n#\ndef authenticated\n  constraint = lambda { |request| request... }\n\n  constraints(constraint) { yield }\nend\n"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{},children:[{type:"text",value:"Custom generators"}]},{type:"text",value:"\n"},{type:"element",tagName:"ul",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"http://guides.rubyonrails.org/generators.html"},children:[{type:"text",value:"Guide: generators"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"element",tagName:"a",properties:{href:"http://api.rubyonrails.org/classes/ActiveRecord/Generators/Base.html"},children:[{type:"text",value:"ActiveRecord::Generators::Base"}]}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"Basic"}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{},children:[{type:"text",value:'# rails g initializer\n# lib/generators/initializer_generator.rb\nclass InitializerGenerator < Rails::Generators::Base\n  def create_initializer_file\n    create_file "config/initializers/initializer.rb", "# Add initialization content here"\n  end\nend\n'}]}]},{type:"text",value:"\n"},{type:"element",tagName:"ul",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Extend "},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"Rails::Generators::Base"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Each public method in the generator is executed when a generator is invoked. "}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"Generating a generator"}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"$ rails generate generator initializer\n"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"NamedBase"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Use "},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"NamedBase"}]},{type:"text",value:" instead if you want to take an argument. It will be available as\n"},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"file_name"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"class InitializerGenerator < Rails::Generators::Base\n  def lol\n    puts file_name\n  end\nend\n"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"More"}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{},children:[{type:"text",value:'class InitializerGenerator < Rails::Generators::NamedBase\n  # \n  source_root File.expand_path("../templates", __FILE__)\n  desc "Description goes here."\nend\n'}]}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"Generators lookup"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"When invoking "},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"rails g XXX"}]},{type:"text",value:":"}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"[rails/]generators/XXX/XXX_generator.rb\n[rails/]generators/XXX_generator.rb\n"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"When invoking "},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"rails g XXX:YYY"}]},{type:"text",value:":"}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"[rails/]generators/XXX/YYY_generator.rb\n"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{},children:[{type:"text",value:"ActiveModel 'acts as'"}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"# yaffle/lib/yaffle/acts_as_yaffle.rb\nmodule Yaffle\n  module ActsAsYaffle\n    extend ActiveSupport::Concern\n \n    included do\n    end\n \n    module ClassMethods\n      def acts_as_yaffle(options = {})\n        # your code will go here\n      end\n    end\n  end\nend\n \nActiveRecord::Base.send :include, Yaffle::ActsAsYaffle\n"}]}]}],data:{quirksMode:!1}},frontmatter:{title:"Rails plugins",category:"Rails",intro:null}},relatedPages:{edges:[{node:{id:"SitePage /arel",context:{nodePath:"/arel",category:"Rails",title:"Arel"}}},{node:{id:"SitePage /rails-controllers",context:{nodePath:"/rails-controllers",category:"Rails",title:"Controllers"}}},{node:{id:"SitePage /rails-forms",context:{nodePath:"/rails-forms",category:"Rails",title:"Form helpers"}}},{node:{id:"SitePage /rails-features",context:{nodePath:"/rails-features",category:"Rails",title:"Rails features"}}},{node:{id:"SitePage /rails-gems",context:{nodePath:"/rails-gems",category:"Rails",title:"Rails gems"}}},{node:{id:"SitePage /rails-helpers",context:{nodePath:"/rails-helpers",category:"Rails",title:"Helpers"}}}]},topPages:{edges:[{node:{id:"SitePage /elixir",context:{nodePath:"/elixir",category:"Elixir",title:"Elixir"}}},{node:{id:"SitePage /es6",context:{nodePath:"/es6",category:"JavaScript",title:"ES2015+"}}},{node:{id:"SitePage /react",context:{nodePath:"/react",category:"React",title:"React.js"}}},{node:{id:"SitePage /vim",context:{nodePath:"/vim",category:"Vim",title:"Vim"}}},{node:{id:"SitePage /vimscript",context:{nodePath:"/vimscript",category:"Vim",title:"Vim scripting"}}},{node:{id:"SitePage /capybara",context:{nodePath:"/capybara",category:"Ruby libraries",title:"Capybara"}}}]},allPages:{totalCount:365}},pathContext:{node_id:"/home/rsc/Dev/@devhints/cheatsheets-ng/sheets/rails-plugins.md absPath of file >>> MarkdownRemark",nodePath:"/rails-plugins",nodeType:"sheet",title:"Rails plugins",category:"Rails",weight:0,updated:null}}}});
//# sourceMappingURL=path---rails-plugins-4165f56a0d3d4c6a6f5c.js.map