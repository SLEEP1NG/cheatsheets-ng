webpackJsonp([79866327986506],{1017:function(e,t){e.exports={data:{markdownRemark:{htmlAst:{type:"root",children:[{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Taken from "},{type:"element",tagName:"a",properties:{href:"https://medium.com/@nthgergo/publishing-gh-pages-with-travis-ci-53a8270e87db"},children:[{type:"text",value:"https://medium.com/@nthgergo/publishing-gh-pages-with-travis-ci-53a8270e87db"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"Create an OAuth token and encrypt it"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Use "},{type:"element",tagName:"a",properties:{href:"https://github.com/settings/tokens/new"},children:[{type:"text",value:"https://github.com/settings/tokens/new"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{className:["language-sh"]},children:[{type:"text",value:"# via ruby\ngem install travis\ntravis encrypt -r user/repo GITHUB_TOKEN=[the token here]\n"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"Make it run the deploy script on deploy"}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{className:["language-yaml"]},children:[{type:"text",value:' # .travis.yml\nscript:\n  - bash ./scripts/deploy-to-gh-pages.sh\nenv:\n  global:\n    - GITHUB_REPO: "user/repo"\n    - secure: "nlnXJW/imf/w..."  # <-- from travis-encrypt\n'}]}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"Write deployer"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Create the file "},{type:"element",tagName:"code",properties:{},children:[{type:"text",value:"scripts/deploy-to-gh-pages.sh"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{className:["language-sh"]},children:[{type:"text",value:'#!/bin/bash\n# See https://medium.com/@nthgergo/publishing-gh-pages-with-travis-ci-53a8270e87db\nset -o errexit\n\nrm -rf public\nmkdir public\n\n# config\ngit config --global user.email "nobody@nobody.org"\ngit config --global user.name "Travis CI"\n\n# build (CHANGE THIS)\nmake\n\n# deploy\ncd public\ngit init\ngit add .\ngit commit -m "Deploy to Github Pages"\ngit push --force --quiet "https://${GITHUB_TOKEN}@$github.com/${GITHUB_REPO}.git" master:gh-pages > /dev/null 2>&1\n'}]}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"From Ractive, this might be useful in certain cases:"}]},{type:"text",value:"\n"},{type:"element",tagName:"pre",properties:{},children:[{type:"element",tagName:"code",properties:{},children:[{type:"text",value:'if [ "$TRAVIS_PULL_REQUEST" != "false" -o "$TRAVIS_BRANCH" != "master" ]; then exit 0; fi\n'}]}]}],data:{quirksMode:!1}},frontmatter:{title:"Deploy gh-pages via Travis",category:"Git",intro:null}},relatedPages:{edges:[{node:{id:"SitePage /tig",context:{nodePath:"/tig",category:"Git",title:"Tig"}}},{node:{id:"SitePage /git-log-format",context:{nodePath:"/git-log-format",category:"Git",title:"Git log format string"}}},{node:{id:"SitePage /git-branch",context:{nodePath:"/git-branch",category:"Git",title:"Git branches"}}},{node:{id:"SitePage /git-extras",context:{nodePath:"/git-extras",category:"Git",title:"Git extras"}}},{node:{id:"SitePage /git-log",context:{nodePath:"/git-log",category:"Git",title:"git log"}}},{node:{id:"SitePage /git-revisions",context:{nodePath:"/git-revisions",category:"Git",title:"Git revisions"}}}]},topPages:{edges:[{node:{id:"SitePage /elixir",context:{nodePath:"/elixir",category:"Elixir",title:"Elixir"}}},{node:{id:"SitePage /es6",context:{nodePath:"/es6",category:"JavaScript",title:"ES2015+"}}},{node:{id:"SitePage /react",context:{nodePath:"/react",category:"React",title:"React.js"}}},{node:{id:"SitePage /vim",context:{nodePath:"/vim",category:"Vim",title:"Vim"}}},{node:{id:"SitePage /vimscript",context:{nodePath:"/vimscript",category:"Vim",title:"Vim scripting"}}},{node:{id:"SitePage /capybara",context:{nodePath:"/capybara",category:"Ruby libraries",title:"Capybara"}}}]},allPages:{totalCount:363}},pathContext:{node_id:"/home/rsc/Dev/@devhints/cheatsheets-ng/sheets/travis-gh-pages.md absPath of file >>> MarkdownRemark",nodePath:"/travis-gh-pages",nodeType:"sheet",title:"Deploy gh-pages via Travis",category:"Git",weight:0,updated:null}}}});
//# sourceMappingURL=path---travis-gh-pages-54c000e62f14a63b5517.js.map